/*
 *	Mobile Menu jQuery Plugin
 *
 *	A simple, yet powerful mobile menu jQuery plugin that clones the markup of your existing main navigation and creates an app style mobile menu with side slide in and out. Powered by hardware accellerated CSS3 animations in modern browsers with jQuery fallback for older browsers that lack CSS3 support for the required attributes.
 *
 *	Demo's and documentation:
 *	http://www.euged.com/plugins/jquery/mobile-menu
 *
 *	Copyright (c) 2013 David Knight - Euged.com
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */(function(e,t,n,r){function o(t,n){this.element=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="mobileMenu",s={animate:!0,transition:300,target:"#mobile-menu",button:"#mobile-menu-toggle",label:"Menu",move:["#site"],direction:"right",insert:"append",button_show:"☰ Show Menu",button_hide:"☰ Hide Menu",init:function(){},open:function(){},close:function(){}};o.prototype={init:function(){var t=this;this.nav=e(this.element);this.mobile_menu=e(this.options.target);this.menu_button=e(this.options.button);this.move=e(this.options.move.join());this.move.addClass("mobile-menu-move");this.options.insert==="prepend"?this.mobile_menu.prepend(this.nav.html()):this.mobile_menu.append(this.nav.html());this.menu_button.on("click",function(){t.toggle_menu();return!1});this.mobile_menu.find("li.has-sub-menu > a").on("click",function(){var t=e(this).parent().children(".sub-menu");if(t.is(":hidden")){e(this).parent().addClass("sub-menu-open");t.slideDown()}else t.slideUp();return!1});e("body").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){"#"+e.target.id===t.options.move[0]&&(t.mobile_menu.hasClass("mobile-menu-visible")?t.menu_open(t):t.menu_close(t))})},toggle_menu:function(){this.options.init();var e=this;this.move.toggleClass("mobile-menu-visible");this.mobile_menu.toggleClass("mobile-menu-visible");if(!this.browser.supports("transition")||!this.browser.supports("transform"))this.mobile_menu.hasClass("mobile-menu-visible")?this.move.animate({"margin-left":this.mobile_menu.width()},400,"swing",function(){e.menu_open(e)}):this.move.animate({"margin-left":0},400,"swing",function(){e.menu_close(e)});this.mobile_menu.hasClass("mobile-menu-visible")||this.menu_button.html(this.options.button_show)},menu_open:function(t){t.mobile_menu.css("z-index","9999");e("html,body").css("overflow","hidden");t.menu_button.html(t.options.button_hide);t.options.open()},menu_close:function(t){t.mobile_menu.css("z-index","-1");e("html,body").css("overflow","");t.options.close()}};o.prototype.helpers={is_jquery:function(e){return e instanceof jQuery},is_null:function(e){return e===null},is_undefined:function(e){return this.is_null(e)||typeof e=="undefined"||e===""||e==="undefined"},in_array:function(e,t){return t.indexOf(e)>=0?!0:!1},debug:function(e){t.console.log(e)}};o.prototype.browser={supports:function(){var e=n.createElement("div"),t=["Khtml","ms","O","Moz","Webkit"],r=t.length;return function(n){if(n in e.style)return!0;n=n.replace(/^[a-z]/,function(e){return e.toUpperCase()});for(var i=0;i<r;i++)if(t[i]+n in e.style)return!0;return!1}}()};e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new o(this,t))})}})(jQuery,window,document);